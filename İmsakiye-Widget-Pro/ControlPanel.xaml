<mah:MetroWindow x:Class="Ä°msakiye_Widget_Pro.ControlPanel"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        Title="Ankara Ä°msakiye - Kontrol Paneli" 
        Height="650" Width="950"
        WindowStartupLocation="CenterScreen"
        GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
        BorderThickness="1"
        TitleCharacterCasing="Normal">

    <mah:MetroWindow.Resources>
        <!-- Gradient Brushes -->
        <LinearGradientBrush x:Key="HeaderGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#00b894" Offset="0"/>
            <GradientStop Color="#00cec9" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="CardGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#2d3436" Offset="0"/>
            <GradientStop Color="#1e272e" Offset="1"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="AccentGradient" StartPoint="0,0" EndPoint="1,0">
            <GradientStop Color="#00b894" Offset="0"/>
            <GradientStop Color="#00cec9" Offset="0.5"/>
            <GradientStop Color="#0984e3" Offset="1"/>
        </LinearGradientBrush>
    </mah:MetroWindow.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Ãœst BaÅŸlÄ±k - Gradient -->
        <Border Grid.Row="0" Background="{StaticResource HeaderGradient}" Padding="25">
            <StackPanel>
                <TextBlock x:Name="HeaderCityText" 
                          Text="ðŸ•Œ ANKARA Ä°MSAKÄ°YE" 
                          FontSize="32" FontWeight="Bold" 
                          Foreground="White" 
                          HorizontalAlignment="Center">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="3" Opacity="0.5"/>
                    </TextBlock.Effect>
                </TextBlock>
                <TextBlock Text="Kontrol Paneli ve Ayarlar" 
                          FontSize="16" 
                          Foreground="White" 
                          Opacity="0.9"
                          HorizontalAlignment="Center" 
                          Margin="0,8,0,0"/>
            </StackPanel>
        </Border>

        <!-- Ana Ä°Ã§erik -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Background="#1e272e">
            <StackPanel Margin="25">

                <!-- Widget Durumu Card -->
                <Border Background="{StaticResource CardGradient}" 
                        CornerRadius="12" 
                        Padding="20" 
                        Margin="0,0,0,20">
                    <Border.Effect>
                        <DropShadowEffect Color="#00b894" BlurRadius="15" ShadowDepth="0" Opacity="0.3"/>
                    </Border.Effect>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Ä°kon -->
                        <Border Grid.Column="0" 
                                Background="{StaticResource AccentGradient}" 
                                Width="60" Height="60" 
                                CornerRadius="30" 
                                Margin="0,0,20,0">
                            <TextBlock Text="ðŸ“±" FontSize="32" 
                                      HorizontalAlignment="Center" 
                                      VerticalAlignment="Center"/>
                        </Border>

                        <!-- Durum Bilgisi -->
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Widget Durumu" 
                                      FontSize="14" 
                                      Foreground="#b2bec3" 
                                      Margin="0,0,0,5"/>
                            <TextBlock Text="Widget Aktif" 
                                      FontSize="20" 
                                      FontWeight="Bold" 
                                      Foreground="#00b894"/>
                            <TextBlock x:Name="WidgetStatusText" 
                                      Text="Widget Ã§alÄ±ÅŸÄ±yor ve gÃ¼ncel" 
                                      FontSize="12" 
                                      Foreground="#636e72" 
                                      Margin="0,5,0,0"/>
                        </StackPanel>

                        <!-- Butonlar -->
                        <StackPanel Grid.Column="2" 
                                   Orientation="Horizontal" 
                                   VerticalAlignment="Center">
                            <Button x:Name="ShowWidgetButton" 
                                   Content="ðŸ‘ GÃ¶ster" 
                                   Click="ShowWidget_Click"
                                   Style="{DynamicResource MahApps.Styles.Button.Square.Accent}"
                                   Margin="0,0,10,0" 
                                   Padding="20,12"
                                   FontSize="14"
                                   FontWeight="SemiBold"/>
                            <Button x:Name="HideWidgetButton" 
                                   Content="ðŸ™ˆ Gizle" 
                                   Click="HideWidget_Click"
                                   Background="#636e72"
                                   Foreground="White"
                                   BorderThickness="0"
                                   Padding="20,12"
                                   FontSize="14"
                                   FontWeight="SemiBold"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Åžehir SeÃ§imi Card -->
                <Border Background="{StaticResource CardGradient}" 
                        CornerRadius="12" 
                        Padding="20" 
                        Margin="0,0,0,20">
                    <Border.Effect>
                        <DropShadowEffect Color="#fdcb6e" BlurRadius="15" ShadowDepth="0" Opacity="0.3"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="ðŸ“ Åžehir SeÃ§imi" 
                                  FontSize="20" 
                                  FontWeight="Bold" 
                                  Foreground="White" 
                                  Margin="0,0,0,15"/>
                        
                        <TextBlock Text="Åžehir Ara:" 
                                  FontSize="14" 
                                  Foreground="#b2bec3" 
                                  Margin="0,0,0,8"/>
                        
                        <TextBox x:Name="CitySearchBox" 
                                FontSize="14"
                                Padding="10"
                                Margin="0,0,0,10"
                                TextChanged="CitySearchBox_TextChanged"
                                mah:TextBoxHelper.Watermark="Åžehir adÄ± yazÄ±n..."
                                mah:TextBoxHelper.ClearTextButton="True"/>
                        
                        <ListBox x:Name="CityListBox" 
                                Height="150"
                                FontSize="14"
                                SelectionChanged="CityListBox_SelectionChanged"
                                Background="#1e272e"
                                Foreground="White"
                                BorderBrush="#00b894"
                                BorderThickness="1"/>
                        
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
                            <TextBlock x:Name="SelectedCityText" 
                                      Text="SeÃ§ili: Ankara" 
                                      FontSize="14" 
                                      Foreground="#00b894" 
                                      VerticalAlignment="Center"
                                      Margin="0,0,15,0"
                                      FontWeight="SemiBold"/>
                            <Button Content="ðŸ’¾ Kaydet" 
                                   Click="SaveCity_Click"
                                   Style="{DynamicResource MahApps.Styles.Button.Square.Accent}"
                                   Padding="20,10"
                                   FontSize="14"
                                   FontWeight="SemiBold"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Namaz Vakitleri Card -->
                <Border Background="{StaticResource CardGradient}" 
                        CornerRadius="12" 
                        Padding="20" 
                        Margin="0,0,0,20">
                    <Border.Effect>
                        <DropShadowEffect Color="#00cec9" BlurRadius="15" ShadowDepth="0" Opacity="0.3"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="ðŸ“… BugÃ¼nÃ¼n Namaz Vakitleri" 
                                  FontSize="20" 
                                  FontWeight="Bold" 
                                  Foreground="White" 
                                  Margin="0,0,0,15"/>
                        
                        <StackPanel x:Name="PrayerTimesPanel">
                            <!-- Vakit satÄ±rlarÄ± dinamik olarak eklenecek -->
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Ayarlar Card -->
                <Border Background="{StaticResource CardGradient}" 
                        CornerRadius="12" 
                        Padding="20" 
                        Margin="0,0,0,20">
                    <Border.Effect>
                        <DropShadowEffect Color="#0984e3" BlurRadius="15" ShadowDepth="0" Opacity="0.3"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="âš™ï¸ Widget AyarlarÄ±" 
                                  FontSize="20" 
                                  FontWeight="Bold" 
                                  Foreground="White" 
                                  Margin="0,0,0,20"/>

                        <mah:ToggleSwitch x:Name="AlwaysOnTopToggle" 
                                        Header="ðŸ“Œ Her Zaman Ãœstte" 
                                        IsOn="True"
                                        OnContent="AÃ§Ä±k" 
                                        OffContent="KapalÄ±"
                                        Toggled="AlwaysOnTop_Toggled"
                                        Margin="0,0,0,15"
                                        FontSize="14"/>

                        <mah:ToggleSwitch x:Name="AutoStartToggle" 
                                        Header="ðŸš€ Windows ile BaÅŸlat" 
                                        IsOn="False"
                                        OnContent="AÃ§Ä±k" 
                                        OffContent="KapalÄ±"
                                        Margin="0,0,0,15"
                                        FontSize="14"
                                        Toggled="AutoStart_Toggled"/>

                        <mah:ToggleSwitch x:Name="NotificationsToggle" 
                                        Header="ðŸ”” Vakit Bildirimleri" 
                                        IsOn="True"
                                        OnContent="AÃ§Ä±k" 
                                        OffContent="KapalÄ±"
                                        Margin="0,0,0,20"
                                        FontSize="14"
                                        Toggled="Notifications_Toggled"/>

                        <Border Background="#1e272e" 
                                CornerRadius="8" 
                                Padding="15" 
                                BorderBrush="#00b894" 
                                BorderThickness="1"
                                Margin="0,0,0,15">
                            <StackPanel>
                                <TextBlock Text="â° Vakit Ã–ncesi HatÄ±rlatÄ±cÄ± (Dakika)" 
                                          FontSize="14" 
                                          Foreground="White" 
                                          Margin="0,0,0,10"/>
                                <Slider x:Name="ReminderSlider" 
                                       Minimum="0" 
                                       Maximum="30" 
                                       Value="10" 
                                       TickFrequency="5"
                                       IsSnapToTickEnabled="True"
                                       ValueChanged="ReminderSlider_ValueChanged"
                                       Foreground="{StaticResource AccentGradient}"/>
                                <TextBlock x:Name="ReminderValueText" 
                                          Text="10 dakika Ã¶nce" 
                                          FontSize="16" 
                                          FontWeight="Bold"
                                          Foreground="#00b894" 
                                          HorizontalAlignment="Right"
                                          Margin="0,5,0,0"/>
                            </StackPanel>
                        </Border>

                        <Border Background="#1e272e" 
                                CornerRadius="8" 
                                Padding="15" 
                                BorderBrush="#00b894" 
                                BorderThickness="1"
                                Margin="0,0,0,15">
                            <StackPanel>
                                <TextBlock Text="ðŸŽ¨ Tema SeÃ§imi" 
                                          FontSize="14" 
                                          Foreground="White" 
                                          Margin="0,0,0,10"/>
                                <ComboBox x:Name="ThemeComboBox" 
                                         FontSize="14"
                                         SelectionChanged="ThemeComboBox_SelectionChanged">
                                    <ComboBoxItem Content="Koyu Tema" IsSelected="True"/>
                                    <ComboBoxItem Content="AÃ§Ä±k Tema"/>
                                    <ComboBoxItem Content="Renkli Tema"/>
                                </ComboBox>
                            </StackPanel>
                        </Border>

                        <Border Background="#1e272e" 
                                CornerRadius="8" 
                                Padding="15" 
                                BorderBrush="#00b894" 
                                BorderThickness="1"
                                Margin="0,0,0,15">
                            <StackPanel>
                                <TextBlock Text="ðŸ”Š Ezan Sesi" 
                                          FontSize="14" 
                                          Foreground="White" 
                                          Margin="0,0,0,10"/>
                                <ComboBox x:Name="AdhanSoundComboBox" 
                                         FontSize="14"
                                         SelectionChanged="AdhanSoundComboBox_SelectionChanged">
                                    <ComboBoxItem Content="AkÅŸam EzanÄ±" IsSelected="True"/>
                                    <ComboBoxItem Content="Sabah EzanÄ±"/>
                                    <ComboBoxItem Content="Sessiz"/>
                                </ComboBox>
                            </StackPanel>
                        </Border>

                        <Border Background="#1e272e" 
                                CornerRadius="8" 
                                Padding="15" 
                                BorderBrush="#00b894" 
                                BorderThickness="1"
                                Margin="0,0,0,15">
                            <StackPanel>
                                <TextBlock Text="ðŸ“ Widget Boyutu" 
                                          FontSize="14" 
                                          Foreground="White" 
                                          Margin="0,0,0,10"/>
                                <ComboBox x:Name="WidgetSizeComboBox" 
                                         FontSize="14"
                                         SelectionChanged="WidgetSizeComboBox_SelectionChanged">
                                    <ComboBoxItem Content="KÃ¼Ã§Ã¼k"/>
                                    <ComboBoxItem Content="Normal" IsSelected="True"/>
                                    <ComboBoxItem Content="BÃ¼yÃ¼k"/>
                                </ComboBox>
                            </StackPanel>
                        </Border>

                        <Border Background="#1e272e" 
                                CornerRadius="8" 
                                Padding="15" 
                                BorderBrush="#00b894" 
                                BorderThickness="1">
                            <StackPanel>
                                <TextBlock Text="ðŸŽ¨ Widget ÅžeffaflÄ±ÄŸÄ±" 
                                          FontSize="14" 
                                          Foreground="White" 
                                          Margin="0,0,0,10"/>
                                <Slider x:Name="OpacitySlider" 
                                       Minimum="0.3" 
                                       Maximum="1.0" 
                                       Value="0.95" 
                                       TickFrequency="0.1"
                                       IsSnapToTickEnabled="True"
                                       ValueChanged="OpacitySlider_ValueChanged"
                                       Foreground="{StaticResource AccentGradient}"/>
                                <TextBlock x:Name="OpacityValueText" 
                                          Text="95%" 
                                          FontSize="16" 
                                          FontWeight="Bold"
                                          Foreground="#00b894" 
                                          HorizontalAlignment="Right"
                                          Margin="0,5,0,0"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- HakkÄ±nda Card -->
                <Border Background="{StaticResource CardGradient}" 
                        CornerRadius="12" 
                        Padding="20" 
                        Margin="0,0,0,20">
                    <Border.Effect>
                        <DropShadowEffect Color="#6c5ce7" BlurRadius="15" ShadowDepth="0" Opacity="0.3"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="â„¹ï¸ HakkÄ±nda" 
                                  FontSize="20" 
                                  FontWeight="Bold" 
                                  Foreground="White" 
                                  Margin="0,0,0,15"/>
                        <TextBlock Text="Ankara Ä°msakiye Widget Pro" 
                                  FontSize="18" 
                                  FontWeight="SemiBold" 
                                  Foreground="#00b894"/>
                        <TextBlock Text="Versiyon 1.0.0" 
                                  FontSize="12" 
                                  Foreground="#b2bec3" 
                                  Margin="0,5,0,15"/>
                        <TextBlock Text="Ankara iÃ§in Ã¶zel olarak tasarlanmÄ±ÅŸ modern namaz vakitleri widget'Ä±. Aladhan API kullanÄ±larak gÃ¼ncel vakitler gÃ¶sterilir." 
                                  TextWrapping="Wrap" 
                                  FontSize="13" 
                                  Foreground="#dfe6e9"
                                  LineHeight="20"/>
                    </StackPanel>
                </Border>

                <!-- Alt Butonlar -->
                <StackPanel Orientation="Horizontal" 
                           HorizontalAlignment="Right" 
                           Margin="0,10,0,20">
                    <Button Content="ðŸ”„ Vakitleri Yenile" 
                           Click="RefreshTimes_Click"
                           Style="{DynamicResource MahApps.Styles.Button.Square.Accent}"
                           Margin="0,0,15,0" 
                           Padding="25,12"
                           FontSize="14"
                           FontWeight="SemiBold"/>
                    <Button Content="âœ– Kapat" 
                           Click="ClosePanel_Click"
                           Background="#d63031"
                           Foreground="White"
                           BorderThickness="0"
                           Padding="25,12"
                           FontSize="14"
                           FontWeight="SemiBold"/>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</mah:MetroWindow>
